## 2. 표준 응답 구조 (The Output)

<details>
<summary>펼쳐보기</summary>
반환값 역시 언어에 상관없이 동일한 객체 구조를 가져야 합니다.

- **status**: HTTP 상태 코드 (Number)
- **statusText**: HTTP 상태 메시지 (String). (예: "OK", "Not Found")
- **duration**: **마지막 시도**의 요청 시작부터 응답 완료까지 걸린 순수 시간 (Number, ms 단위).
- **totalDuration**: **최초 요청** 시작부터 최종 응답 완료까지 걸린 총 시간 (Number, ms 단위). (재시도, 리다이렉트 시간 포함)
- **timings**: (Optional) 구간별 소요 시간 정보 (Object, ms 단위). (지원하는 플랫폼에 한함)
    - `dns`: DNS 조회 시간.
    - `connect`: TCP 연결 시간 (SSL 핸드셰이크 포함).
    - `send`: 요청 전송 시간.
    - `wait`: 서버 응답 대기 시간 (TTFB).
    - `receive`: 데이터 수신 시간.
- **url**: 최종 응답 URL (String). (리다이렉트가 발생한 경우 리다이렉트 된 최종 주소)
- **attempts**: (Array<Object>) 리다이렉트와 재시도를 포함한 모든 시도 기록.
    - 각 요소는 해당 시점의 응답 또는 에러 정보를 담은 스냅샷 객체입니다. 최소한 다음 필드를 포함해야 합니다: `{ url: string, duration: number, status?: number, statusText?: string, headers?: object, error?: { code: string, message: string } }`
- **request**: (Optional) 네이티브 요청 객체 (Object). (Node.js `ClientRequest`, Browser `XMLHttpRequest` 등)
- **config**: 요청 시 사용된 설정 객체 (Object). (`meta` 포함)
- **body**: 실제 응답 데이터.
    - `responseType` 설정이 최우선으로 적용됩니다.
    - **rawBody**: (Optional) `saveRawBody: true`일 때 포함되는 원본 데이터 (String | Buffer).
    - **HEAD 요청**: `body`는 항상 **`null`**입니다.
    - **자동 압축 해제(Decompression)**: `decompress: true`(기본값)일 경우, Gzip, Deflate, Brotli 등으로 압축된 응답은 자동으로 해제된 후 처리됩니다.
    - JSON 응답 (`application/json`): **Object/Dict**로 자동 파싱. **(BOM(Byte Order Mark) 제거 후 파싱, 실패 시 `'EPARSE'` 예외 발생)**. 디코딩 시에는 `responseEncoding` > `Content-Type`의 `charset` > `UTF-8` 순서의 우선순위를 따릅니다.
    - 텍스트 응답 (`text/*`): **String**. 디코딩 시에는 `responseEncoding` > `Content-Type`의 `charset` > `UTF-8` 순서의 우선순위를 따릅니다.
    - 상태 코드 204 (No Content): **null**.
    - Stream 응답 (`responseType: 'stream'`): 언어별 **Readable Stream** 객체. (사용자가 스트림을 **닫을(Close/Destroy) 책임**이 있습니다)
    - Blob 응답 (`responseType: 'blob'`): **Blob** 객체. (브라우저 환경 등 Blob API 지원 시)
    - 그 외 (이미지, 바이너리 등): **Byte Array / Buffer**.
- **headers**: 응답 헤더 (Object). **모든 Key는 소문자(lowercase)로 정규화**됩니다.
    - 기본값: **String** (여러 값인 경우 `, `로 결합).
    - 예외: **`set-cookie`**는 **String[] (배열)** 형태로 반환해야 합니다. (쿠키 파싱 및 세션 관리를 위함. 단, 브라우저 환경에서는 보안상 접근 불가할 수 있음)
        - **Note**: 브라우저 환경에서는 보안 정책상 `Set-Cookie` 헤더에 접근할 수 없으므로, 이 필드는 **서버 환경에서만 유효**합니다.
- **ok**: 성공 여부 (Boolean).
    - 기본적으로 `status`가 200~299 사이일 때 `true`입니다.
    - 단, `config.validateStatus`가 설정된 경우, 해당 함수의 반환값을 따릅니다.
</details>